<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
  <title>跑完一百米！</title>
  <style type="text/css"> body { margin: 0; }</style>
  <script src="js/phaser.min.js"></script>
</head>

<body>
  <!-- the game logic 游戏逻辑-->
  <script>
    var Play = function () {};

    Play.prototype = {
      preload: function () {
        this.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;
        this.scale.pageAlignHorizontally = true;
        this.scale.pageAlignVertically = true;

        this.load.tilemap('tilemap', 'assets/level.json', null, Phaser.Tilemap.TILED_JSON);
        this.load.image('tiles', 'assets/tiles.png');
        this.load.atlas('texture-atlas', 'assets/texture-atlas.png', 'assets/texture-atlas.json');
      },
      create: function() {},
      update: function() {}
    };
  </script>

  <!-- the main app 主程序-->
  <script>
    var targetWidth = 840;
    var targetHeight = 560;
    var newWidth = (window.innerWidth/window.innerHeight) * targetHeight;

    var game = new Phaser.Game(newWidth, targetHeight, Phaser.AUTO);
    game.state.add('Play', Play);
    game.state.start('Play');
  </script>
</body>
</html>